(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();let c=JSON.parse(localStorage.getItem("todos"))||[];JSON.parse(localStorage.getItem("activeTodos"));let h=JSON.parse(localStorage.getItem("completedTodos"))||[];const S=document.querySelector("#new-todo-form"),f=document.querySelector("#name"),b=localStorage.getItem("username")||"";window.addEventListener("load",()=>{f.value=b.toUpperCase(),f.addEventListener("change",e=>{localStorage.setItem("username",e.target.value+"!")}),S.addEventListener("submit",i);function i(e){e.preventDefault();const o={content:e.target.elements.content.value,dueDate:e.target.elements.dueDate.value,category:e.target.elements.category.value,done:!1,createdAt:new Date().getTime()};c.push(o),localStorage.setItem("todos",JSON.stringify(c)),e.target.reset(),l()}l()});function l(){const i=document.querySelector("#todo-list");i.innerHTML="",c.forEach(e=>{const o=document.createElement("div");o.classList.add("todo-item");const a=document.createElement("label"),t=document.createElement("input"),n=document.createElement("div"),r=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),m=document.createElement("button"),p=document.createElement("button");t.type="checkbox",t.checked=e.done,e.category=="personal"&&(d.innerHTML='<img src="public/icon-personal.png"/>'),e.category=="kids"&&(d.innerHTML='<img src="public/icon-kids.png"/>'),e.category=="job"&&(d.innerHTML='<img src="public/icon-job.png"/>'),e.category=="other"&&(d.innerHTML='<img src="public/icon-other.png"/>'),n.classList.add("todo-content"),r.classList.add("duedate-div"),d.classList.add("category-icon"),u.classList.add("actions"),m.classList.add("edit"),p.classList.add("delete"),r.innerHTML=e.dueDate,n.innerHTML=`<input type="text" value="${e.content}" readonly>`,m.innerHTML="Edit",p.innerHTML="Delete",a.appendChild(t),o.appendChild(a),o.appendChild(n),o.appendChild(r),o.appendChild(d),o.appendChild(u),u.appendChild(m),u.appendChild(p),i.appendChild(o),e.done&&o.classList.add("done"),t.addEventListener("click",g=>{e.done=g.target.checked,localStorage.setItem("todos",JSON.stringify(c)),e.done?o.classList.add("done"):o.classList.remove("done"),l()}),m.addEventListener("click",y);function y(g){const s=n.querySelector("input");s.removeAttribute("readonly"),s.focus(),s.addEventListener("blur",v=>{s.setAttribute("readonly",!0),e.content=v.target.value,localStorage.setItem("todos",JSON.stringify(c)),l()})}p.addEventListener("click",L);function L(g){c=c.filter(s=>s!=e),localStorage.setItem("todos",JSON.stringify(c)),l()}})}const E=document.querySelector("#completed");E.addEventListener("click",T);function T(){}console.table(c);console.table(h);
