(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();let a=JSON.parse(localStorage.getItem("todos"))||[];JSON.parse(localStorage.getItem("activeTodos"));let h=JSON.parse(localStorage.getItem("completedTodos"))||[];const S=document.querySelector("#new-todo-form"),g=document.querySelector("#name"),E=localStorage.getItem("username")||"";window.addEventListener("load",()=>{g.value=E,g.addEventListener("change",e=>{localStorage.setItem("username",e.target.value+"!")}),S.addEventListener("submit",c);function c(e){e.preventDefault();const o={content:e.target.elements.content.value,dueDate:e.target.elements.dueDate.value,category:e.target.elements.category.value,done:!1,createdAt:new Date().getTime()};a.push(o),localStorage.setItem("todos",JSON.stringify(a)),e.target.reset(),l()}l()});function l(){const c=document.querySelector("#todo-list");c.innerHTML="",a.forEach(e=>{const o=document.createElement("div");o.classList.add("todo-item");const i=document.createElement("label"),t=document.createElement("input");document.createElement("span");const n=document.createElement("div"),s=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),m=document.createElement("button"),f=document.createElement("button");t.type="checkbox",t.checked=e.done,e.category=="personal"&&(d.innerHTML='<i class="fa-solid fa-user"></i>'),e.category=="kids"&&(d.innerHTML='<i class="fa-solid fa-children"></i>'),e.category=="job"&&(d.innerHTML='<i class="fa-solid fa-laptop-code">'),e.category=="other"&&(d.innerHTML='<i class="fa-solid fa-heart"></i>'),n.classList.add("todo-content"),s.classList.add("dueDate-div"),d.classList.add("category-icon"),u.classList.add("actions"),m.classList.add("edit"),f.classList.add("delete"),s.innerHTML=e.dueDate,n.innerHTML=`<input type="text" value="${e.content}" readonly>`,m.innerHTML="Edit",f.innerHTML="Delete",i.appendChild(t),o.appendChild(i),o.appendChild(n),o.appendChild(s),o.appendChild(d),o.appendChild(u),u.appendChild(m),u.appendChild(f),c.appendChild(o),e.done&&o.classList.add("done"),t.addEventListener("click",p=>{e.done=p.target.checked,localStorage.setItem("todos",JSON.stringify(a)),e.done?o.classList.add("done"):o.classList.remove("done"),l()}),m.addEventListener("click",y);function y(p){const r=n.querySelector("input");r.removeAttribute("readonly"),r.focus(),r.addEventListener("blur",v=>{r.setAttribute("readonly",!0),e.content=v.target.value,localStorage.setItem("todos",JSON.stringify(a)),l()})}f.addEventListener("click",L);function L(p){a=a.filter(r=>r!=e),localStorage.setItem("todos",JSON.stringify(a)),l()}})}console.table(a);console.table(h);
